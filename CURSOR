 /*
A cursor is a pointer that allows you to process query results row by row in PL/SQL.

There are two types:

Implicit Cursor → Oracle manages automatically

Explicit Cursor → You manually declare and use it*/
declare
     -- v_first_name varchar(20);
     -- v_salary hr.employees.salary %type;-- for unknown datatype
     -- %rowtype attribute whichj is used to create a variable of recordtype
     -- in this we store or create a column withits datatype
     -- record is datastructure is used treate a group of related data
    v_rec hr.EMPLOYEES%rowtype;
BEGIN
       
 -- SELECT first_name into v_first_name from hr.EMPLOYEES where employee_id=101;
 -- select salary into v_salary from hr.EMPLOYEES where employee_id=101;
-- dbms_output.PUT_LINE(v_first_name || v_salary);
 select * into v_rec from hr.EMPLOYEES where EMPLOYEE_ID=101;
 DBMS_OUTPUT.PUT_LINE(v_rec.first_name ||'-'|| v_rec.email);
end;
_________________________________________________________________________________
Implicit cursor :
CREATE table emp_cp
as select employee_id,first_name from hr.employees where EMPLOYEE_ID
BETWEEN 100 and 104;
SELECT * from EMP_CP;
declare

BEGIN
    DBMS_OUTPUT.PUT_LINE('we are inside begin ');
    --UPDATE EMP_CP set FIRST_NAME='reg';
    UPDATE emp_cp
    SET first_name = 'reg'
    WHERE employee_id = 101;
    --DBMS_OUTPUT.PUT_LINE(SQL%ROWCOUNT);
    IF SQL%FOUND THEN
        DBMS_OUTPUT.PUT_LINE('Row was updated');
    ELSE
        DBMS_OUTPUT.PUT_LINE('No row updated');
    END IF;
end;
___________________________________________________________________________________________________
Explicit cursor
declare
CURSOR emp_cur is select * from EMP_CP;-- creating cursor
rec emp_cp%ROWTYPE;-- rec variable as same as table 
BEGIN
    open emp_cur; -- open cursor
    FETCH emp_cur into rec;-- fetching cursor data  
   -- if emp_cur%isopen then
        -- DBMS_OUTPUT.PUT_LINE('open');
    -- end if;
    if emp_cur%found THEN -- we can use %notfound,
        DBMS_OUTPUT.PUT_LINE('found');
    else 
        DBMS_OUTPUT.PUT_LINE('notfound');
    end if;
close emp_cur;
end;

___________________________
declare
CURSOR emp_cur is select * from EMP_CP;-- creating cursor
rec emp_cp%ROWTYPE;-- rec variable as same as table 
BEGIN
    OPEN emp_cur;
    fetch emp_cur into rec;
    -- if emp_cur%found THEN
    WHILE emp_cur%found loop
        dbms_output.put_line(rec.employee_id ||' ' || rec.first_name);
        FETCH emp_cur into rec;
    end loop;
end;
__________________________________________________________
declare
CURSOR emp_cur is select * from EMP_CP;-- creating cursor
rec emp_cp%ROWTYPE;-- rec variable as same as table 
BEGIN
    --OPEN emp_cur;
    /*fetch emp_cur into rec;
    -- if emp_cur%found THEN
    WHILE emp_cur%found loop
        dbms_output.put_line(rec.employee_id ||' ' || rec.first_name);
        FETCH emp_cur into rec;
    end loop;*/
    for line in emp_cur LOOP
        DBMS_OUTPUT.PUT_LINE(line.employee_id);
    end loop;
end;
____________________________________________


